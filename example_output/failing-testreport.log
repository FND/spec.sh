=== RUN it_should_support_defer_even_on_fails
	+ it_should_support_defer_even_on_fails
	+ echo hallo
	+ defer rm out
	+ __DEFERRED_CALLS='rm out; '
	+ assert_true 'test -e out'
	+ test -e out
	+ assert_eq 0 0 'expecting command '\''test -e out'\'' to succeed'
	+ description='expecting command '\''test -e out'\'' to succeed'
	+ set +x
	######################################## PASSED TEST: expecting command 'test -e out' to succeed ('0' == '0')
	+ assert_eq 0 1
	+ description=
	+ set +x
	failed expectation: '0' == '1' 
	######################################## FAILED TEST: '0' == '1'
	%%%%%%%%%%%%%%%%%%%% executing defer commands: 'eval "rm out; " &> /tmp/.spec.sh.deferred_calls.qa7GTb'
	+ exit 1
	error code: 1
	error occured in ./failing-tests.sh:11:it_should_support_defer_even_on_fails
--- FAIL: it_should_support_defer_even_on_fails (0.03s)
=== RUN it_should_assert_command
	+ it_should_assert_command
	+ assert_true 'ls /xxxtmp'
	+ ls /xxxtmp
	ls: /xxxtmp: No such file or directory
	+ assert_eq 1 0 'expecting command '\''ls /xxxtmp'\'' to succeed'
	+ description='expecting command '\''ls /xxxtmp'\'' to succeed'
	+ set +x
	failed expectation: expecting command 'ls /xxxtmp' to succeed ('1' == '0') 
	######################################## FAILED TEST: expecting command 'ls /xxxtmp' to succeed ('1' == '0')
	+ exit 1
	error code: 1
	error occured in ./failing-tests.sh:20:it_should_assert_command
./failing-tests.sh:25:it_should_assert_command
--- FAIL: it_should_assert_command (0.01s)
=== RUN it_should_assert_command_with_description
	+ it_should_assert_command_with_description
	+ assert_true 'ls /xxxtmp' 'assert_true with a description'
	+ ls /xxxtmp
	ls: /xxxtmp: No such file or directory
	+ assert_eq 1 0 'assert_true with a description'
	+ description='assert_true with a description'
	+ set +x
	failed expectation: assert_true with a description ('1' == '0') 
	######################################## FAILED TEST: assert_true with a description ('1' == '0')
	+ exit 1
	error code: 1
	error occured in ./failing-tests.sh:25:it_should_assert_command_with_description
--- FAIL: it_should_assert_command_with_description (0.01s)
=== RUN it_should_reflect_exit_code
	+ it_should_reflect_exit_code
	+ return 3
	+ res=3
	+ set +x
	error code: 3
	error occured in ./failing-tests.sh:29:it_should_reflect_exit_code
--- FAIL: it_should_reflect_exit_code (0.00s)
=== RUN it_should_compare_exit_code
	+ it_should_compare_exit_code
	+ false
	+ assert_eq 0 0
	+ description=
	+ set +x
	######################################## PASSED TEST: '0' == '0'
	+ assert_eq 0 0 '0 should be 0'
	+ description='0 should be 0'
	+ set +x
	######################################## PASSED TEST: 0 should be 0 ('0' == '0')
	+ assert_eq 0 2
	+ description=
	+ set +x
	failed expectation: '0' == '2' 
	######################################## FAILED TEST: '0' == '2'
	+ exit 1
	error code: 1
	error occured in ./failing-tests.sh:33:it_should_compare_exit_code
--- FAIL: it_should_compare_exit_code (0.01s)
=== RUN it_should_compare_string
	+ it_should_compare_string
	++ echo hallo
	++ tr l x
	+ assert_eq haxxo haggo
	+ description=
	+ set +x
	failed expectation: 'haxxo' == 'haggo' 
	######################################## FAILED TEST: 'haxxo' == 'haggo'
	+ exit 1
	error code: 1
	error occured in ./failing-tests.sh:42:it_should_compare_string
./failing-tests.sh:47:it_should_compare_string
--- FAIL: it_should_compare_string (0.01s)
=== RUN it_should_compare_string_with_description
	+ it_should_compare_string_with_description
	++ echo hallo
	++ tr l x
	+ assert_eq haxxo haggo 'transforming string should work'
	+ description='transforming string should work'
	+ set +x
	failed expectation: transforming string should work ('haxxo' == 'haggo') 
	######################################## FAILED TEST: transforming string should work ('haxxo' == 'haggo')
	+ exit 1
	error code: 1
	error occured in ./failing-tests.sh:47:it_should_compare_string_with_description
--- FAIL: it_should_compare_string_with_description (0.01s)
=== RUN it_should_match_regexp
	+ it_should_match_regexp
	+ sleep 0.3
	+ assert_match aaa:88X09 'aaa:[0-9]{5}'
	+ set +o pipefail
	+ printf %s aaa:88X09
	+ grep -E -m1 -o 'aaa:[0-9]{5}'
	+ head -n1
	+ grep -E 'aaa:[0-9]{5}'
	+ assert_eq 1 0 'checking '\''aaa:88X09'\'' to match /aaa:[0-9]{5}/'
	+ description='checking '\''aaa:88X09'\'' to match /aaa:[0-9]{5}/'
	+ set +x
	failed expectation: checking 'aaa:88X09' to match /aaa:[0-9]{5}/ ('1' == '0') 
	######################################## FAILED TEST: checking 'aaa:88X09' to match /aaa:[0-9]{5}/ ('1' == '0')
	+ exit 1
	error code: 1
	error occured in ./failing-tests.sh:52:it_should_match_regexp
--- FAIL: it_should_match_regexp (0.32s)
=== RUN it_should_negate_assert_correctly
	+ it_should_negate_assert_correctly
	+ assert_false 'ls /'
	+ __SPEC_SH_NEGATE=1
	+ assert_true 'ls /'
	+ ls /
	Applications
	Library
	Network
	System
	Users
	Volumes
	bin
	cores
	dev
	etc
	home
	installer.failurerequests
	net
	opt
	private
	sbin
	tmp
	usr
	var
	+ assert_eq 0 0 'expecting command '\''ls /'\'' to succeed'
	+ description='expecting command '\''ls /'\'' to succeed'
	+ set +x
	failed expectation: expecting command 'ls /' to succeed ('0' != '0') 
	######################################## FAILED TEST: expecting command 'ls /' to succeed ('0' != '0')
	+ exit 1
	error code: 1
	error occured in ./failing-tests.sh:58:it_should_negate_assert_correctly
--- FAIL: it_should_negate_assert_correctly (0.01s)
=== RUN it_should_negate_assert_eq_correctly
--- PASS: it_should_negate_assert_eq_correctly (0.00s)
=== RUN it_should_negate_assert_match_correctly
	+ it_should_negate_assert_match_correctly
	+ assert_nmatch hallo ll
	+ __SPEC_SH_NEGATE=1
	+ assert_match hallo ll
	+ set +o pipefail
	+ printf %s hallo
	+ grep -E -m1 -o ll
	+ head -n1
	+ grep -E ll
	ll
	+ assert_eq 0 0 'checking '\''hallo'\'' to match /ll/'
	+ description='checking '\''hallo'\'' to match /ll/'
	+ set +x
	failed expectation: checking 'hallo' to match /ll/ ('0' != '0') 
	######################################## FAILED TEST: checking 'hallo' to match /ll/ ('0' != '0')
	+ exit 1
	error code: 1
	error occured in ./failing-tests.sh:66:it_should_negate_assert_match_correctly
--- FAIL: it_should_negate_assert_match_correctly (0.01s)
=== RUN it_should_have_n_failing_tests
	+ it_should_have_n_failing_tests
	+ assert_eq 1 2
	+ description=
	+ set +x
	failed expectation: '1' == '2' 
	######################################## FAILED TEST: '1' == '2'
	+ exit 1
	error code: 1
	error occured in ./failing-tests.sh:70:it_should_have_n_failing_tests
--- FAIL: it_should_have_n_failing_tests (0.00s)
=== RUN after_all
--- PASS: after_all (0.00s)
FAIL
exit status 11
FAIL	failing-tests	0.920s
